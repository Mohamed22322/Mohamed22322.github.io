<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>مكتبة الصفحات</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      text-align: center;
      background: #f4f4f4;
      padding: 40px;
      margin: 0;
    }

    h1 {
      margin-bottom: 30px;
      color: #333;
    }

    .button-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 30px;
      max-width: 400px;
      margin: auto;
    }

    .circle-btn-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .circle-btn {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background-color: #007BFF;
      color: white;
      font-size: 24px;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
      margin-bottom: 10px;
    }

    .circle-btn:hover {
      background-color: #0056b3;
    }

    .btn-label {
      font-size: 16px;
      color: #333;
    }

    .back-btn {
      display: inline-block;
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #dc3545;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      font-size: 18px;
    }

    .page-content {
      max-width: 800px;
      margin: auto;
      padding: 30px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    textarea {
      width: 100%;
      height: 300px;
      padding: 15px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid #ccc;
      resize: vertical;
      font-family: inherit;
      margin-bottom: 15px;
      direction: rtl;
      white-space: pre-line;
    }

    .actions {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 10px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    button#clearBtn {
      background-color: #dc3545;
      color: white;
    }

    button#copyBtn {
      background-color: #17a2b8;
      color: white;
    }

    button#shareBtn {
      background-color: #25D366;
      color: white;
    }
  </style>
</head>
<body>

<script>
  const params = new URLSearchParams(location.search);
  const pageNum = params.get('page');

  // عناوين وصفية للصفحات
  const pageLabels = [
    "مقدمة",
    "الفصل الأول",
    "الفصل الثاني",
    "الفصل الثالث",
    "الفصل الرابع",
    "الفصل الخامس",
    "الخاتمة",
    "المراجع",
    "الملحق",
    "الصور"
  ];

  if (!pageNum) {
    // الصفحة الرئيسية
    document.write(`
      <h1>📘 مكتبة الصفحات</h1>
      <div class="button-grid">
        ${Array.from({length: 10}, (_, i) => `
          <div class="circle-btn-container">
            <button class="circle-btn" onclick="goToPage(${i + 1})">📄 ${i + 1}</button>
            <div class="btn-label">${pageLabels[i]}</div>
          </div>
        `).join('')}
      </div>
      <script>
        function goToPage(num) {
          location.href = '?page=' + num;
        }
      <\/script>
    </body></html>
    `);
  } else {
    let content = "";

    switch(pageNum) {
      case "1":
        content = getEditorContent("📖 الصفحة الأولى - " + pageLabels[0], "هذا محتوى الصفحة الأولى. يمكنك وضع نص طويل هنا يشرح فكرة الصفحة.");
        break;
      case "2":
        content = getEditorContent("📖 الصفحة الثانية - " + pageLabels[1], "هذه الصفحة الثانية، اكتب ما تريد من معلومات أو قصص أو تعليمات.");
        break;
      case "3":
        content = getEditorContent("📖 الصفحة الثالثة - " + pageLabels[2], "هنا النص الخاص بالصفحة الثالثة. استمتع بالقراءة!");
        break;
      case "4":
        content = getEditorContent("📖 الصفحة الرابعة - " + pageLabels[3], "import requests
from rich.console import Console
from rich.table import Table
import time

# قائمة بالمواقع المجانية المحتملة التي قد تعمل بدون باقة
FREE_SITES = [
    "https://www.google.com", 
    "https://dns.google", 
    "https://www.cloudflare.com", 
    "https://www.hide.me/en/proxy",   # بروكسي ويب مجاني
    "http://www.speedtest.net",      # اختبار سرعة الإنترنت
    "https://www.wikipedia.org", 
    "https://archive.org",            # مكتبة رقمية مجانية
    "https://www.project  Gutenberg.org",  # كتب إلكترونية مجانية
]

TIMEOUT = 5  # المهلة الزمنية لكل طلب


def check_free_sites(sites: list, timeout: int = TIMEOUT) -> dict:
    """
    التحقق من أي المواقع المجانية متاحة.
    """
    working_sites = []
    console = Console()

    console.print("[+] بدء البحث عن خدمات الإنترنت المجانية...\n")

    table = Table(title="نتائج فحص المواقع المجانية", show_header=True, header_style="bold blue")
    table.add_column("الموقع", justify="center")
    table.add_column("الحالة", justify="center")
    table.add_column("الوقت (ثواني)", justify="center")

    for site in sites:
        try:
            start_time = time.time()
            response = requests.get(site, timeout=timeout)
            elapsed = time.time() - start_time
            status = "[green]متاح[/green]"
            working_sites.append(site)
        except:
            elapsed = "-"
            status = "[red]غير متاح[/red]"

        table.add_row(
            site,
            status,
            str(round(elapsed, 2)) if isinstance(elapsed, float) else elapsed
        )

    console.print(table)

    return {
        "status": len(working_sites) > 0,
        "free_sites": working_sites
    }


if __name__ == "__main__":
    console = Console()

    result = check_free_sites(FREE_SITES)

    if result["status"]:
        console.print("\n[blue][✓] تم العثور على مواقع مجانية يمكنك استخدامها:[/blue]")
        for site in result["free_sites"]:
            console.print(f"  🔹 {site}")
    else:
        console.print("\n[yellow][-] لم يتم العثور على أي مواقع مجانية متاحة حاليًا.[/yellow]")");
        break;
      case "5":
        content = getEditorContent("📖 الصفحة الخامسة - " + pageLabels[4], "محتوى الصفحة الخامسة...");
        break;
      case "6":
        content = getEditorContent("📖 الصفحة السادسة - " + pageLabels[5], "محتوى الصفحة السادسة...");
        break;
      case "7":
        content = getEditorContent("📖 الصفحة السابعة - " + pageLabels[6], "محتوى الصفحة السابعة...");
        break;
      case "8":
        content = getEditorContent("📖 الصفحة الثامنة - " + pageLabels[7], "محتوى الصفحة الثامنة...");
        break;
      case "9":
        content = getEditorContent("📖 الصفحة التاسعة - " + pageLabels[8], "محتوى الصفحة التاسعة...");
        break;
      case "10":
        content = getEditorContent("📖 الصفحة العاشرة - " + pageLabels[9], "محتوى الصفحة العاشرة...");
        break;
      default:
        content = "<h2>⚠️ صفحة غير موجودة</h2><p>الصفحة المطلوبة غير متوفرة.</p>";
    }

    // عرض الصفحة الفرعية
    document.write(`
      <div class="page-content">
        ${content}
        <br>
        <a href="." class="back-btn">⬅️ العودة للواجهة</a>
      </div>
      <script>
        function clearText() {
          document.getElementById('editor').value = '';
        }

        function copyText() {
          const textarea = document.getElementById('editor');
          textarea.select();
          textarea.setSelectionRange(0, 99999);
          navigator.clipboard.writeText(textarea.value).then(() => {
            alert('✅ تم نسخ النص بنجاح');
          }).catch(err => {
            alert('❌ فشل في نسخ النص: ' + err);
          });
        }

        function shareOnWhatsApp() {
          const text = document.getElementById('editor').value;
          if (!text.trim()) {
            alert('⚠️ لا يوجد نص للمشاركة');
            return;
          }
          const encodedText = encodeURIComponent(text);
          const whatsappUrl = 'https://api.whatsapp.com/send?text=' + encodedText;
          window.open(whatsappUrl, '_blank');
        }
      <\/script>
    </body></html>
    `);
  }

  function getEditorContent(title, defaultText) {
    return `
      <h2>${title}</h2>
      <textarea id="editor" placeholder="اكتب أو الصق النص هنا...">${defaultText}</textarea>
      <div class="actions">
        <button id="clearBtn" onclick="clearText()">❌ مسح</button>
        <button id="copyBtn" onclick="copyText()">📋 نسخ</button>
        <button id="shareBtn" onclick="shareOnWhatsApp()">💬 مشاركة</button>
      </div>
    `;
  }
</script>

</body>
</html>
