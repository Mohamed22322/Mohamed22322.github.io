<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>مطر وبرق مع سحاب وصوت</title>
  <style>
    /* إعادة تعيين */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body, html {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: #000000;
      font-family: sans-serif;
    }

    /* الخلفية السوداء المتحركة */
    .background {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 300%;
      background: repeating-linear-gradient(
        to bottom,
        #000,
        #000 100px,
        #111 100px,
        #111 200px
      );
      animation: moveBackground 60s linear infinite;
    }

    @keyframes moveBackground {
      from {
        background-position: 0 0;
      }
      to {
        background-position: 0 600px;
      }
    }

    /* القطرات */
    .drop {
      position: absolute;
      top: -50px;
      width: 2px;
      height: 20px;
      background: rgba(255, 255, 255, 0.6);
      animation-name: fall;
      animation-duration: 1.5s;
      animation-timing-function: linear;
    }

    @keyframes fall {
      0% {
        transform: translateY(0) rotate(20deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(20deg);
        opacity: 0;
      }
    }

    /* تأثير البرق */
    .flash {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      opacity: 0;
      z-index: 9999;
    }

    .flash.active {
      animation: lightning 0.2s ease-in-out infinite;
    }

    @keyframes lightning {
      0% { opacity: 0; background-color: #fff; }
      50% { opacity: 0.7; background-color: #fff; }
      100% { opacity: 0; background-color: #000; }
    }

    /* السحاب */
    .cloud {
      position: absolute;
      background: #ffffff22;
      border-radius: 50%;
      filter: blur(20px);
      opacity: 0.3;
      animation: cloudMove linear infinite;
    }

    @keyframes cloudMove {
      from {
        transform: translateX(-100%);
      }
      to {
        transform: translateX(100vw);
      }
    }
  </style>
</head>
<body>

<div class="background"></div>
<div class="flash" id="flash"></div>

<!-- أصوات -->
<audio id="rainSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_4f2e12920d.mp3 " loop></audio>
<audio id="thunderSound" src="https://cdn.pixabay.com/audio/2021/11/28/audio_c33d2a83e4.mp3 "></audio>
<audio id="rainfallSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_5f2dad6b9c.mp3 " loop></audio>

<script>
  // تشغيل صوت المطر والهطول
  const rainAudio = document.getElementById("rainSound");
  const rainfallAudio = document.getElementById("rainfallSound");
  const thunderAudio = document.getElementById("thunderSound");

  rainAudio.volume = 0.3;
  rainfallAudio.volume = 0.2;

  // تشغيل الصوت بعد التفاعل الأولي (لتجنب منع المتصفح للصوت التلقائي)
  function playSounds() {
    rainAudio.play();
    rainfallAudio.play();
    document.body.removeEventListener('click', playSounds);
  }

  document.body.addEventListener('click', playSounds);

  // إنشاء قطرات مطر
  function createRainDrop() {
    const drop = document.createElement('div');
    drop.classList.add('drop');
    drop.style.left = Math.random() * window.innerWidth + 'px';
    drop.style.animationDuration = (1 + Math.random() * 1.5) + 's';
    drop.style.opacity = 0.4 + Math.random() * 0.3;
    document.body.appendChild(drop);

    setTimeout(() => {
      drop.remove();
    }, 2000);
  }

  setInterval(createRainDrop, 50);

  // تأثير البرق العشوائي
  function flashLightning() {
    const flash = document.getElementById('flash');
    flash.classList.add('active');

    // تشغيل صوت الرعد عند البرق
    thunderAudio.currentTime = 0;
    thunderAudio.play();

    setTimeout(() => {
      flash.classList.remove('active');
    }, 200);
  }

  // تفعيل البرق كل فترة عشوائية بين 5 إلى 10 ثوانٍ
  setInterval(() => {
    if (Math.random() < 0.3) {
      flashLightning();
    }
  }, Math.random() * 5000 + 5000);

  // إضافة سحاب متحركة
  function createCloud() {
    const cloud = document.createElement('div');
    cloud.classList.add('cloud');

    const size = 100 + Math.random() * 150;
    cloud.style.width = size + 'px';
    cloud.style.height = (size * 0.6) + 'px';

    cloud.style.top = Math.random() * 100 + 'px';
    cloud.style.left = '-200px';

    cloud.style.animationDuration = (20 + Math.random() * 30) + 's';

    document.body.appendChild(cloud);

    setTimeout(() => {
      cloud.remove();
    }, 50000);
  }

  setInterval(createCloud, 3000);
</script>

</body>
</html>
